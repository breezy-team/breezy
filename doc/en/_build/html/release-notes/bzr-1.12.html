
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Bazaar Release Notes &#8212; Breezy 3.0.0.1 documentation</title>
    <link rel="stylesheet" href="../_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="search" title="Search" href="../search.html" /> 
  </head><body>
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="../index.html">Table of Contents (3.0.0.1)</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="bazaar-release-notes">
<h1>Bazaar Release Notes<a class="headerlink" href="#bazaar-release-notes" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="bzr-1-12">
<h2>bzr 1.12<a class="headerlink" href="#bzr-1-12" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Codename:</th><td class="field-body">1234567890</td>
</tr>
<tr class="field-even field"><th class="field-name">1.12:</th><td class="field-body">2009-02-13</td>
</tr>
<tr class="field-odd field"><th class="field-name">1.12rc1:</th><td class="field-body">2009-02-10</td>
</tr>
</tbody>
</table>
<p>This release of Bazaar contains many improvements to the speed,
documentation and functionality of <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">log</span></code> and the display of logged
revisions by <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">status</span></code>.  bzr now also gives a better indication of
progress, both in the way operations are drawn onto a text terminal, and
by showing the rate of network IO.</p>
<div class="section" id="changes-from-rc1-to-final">
<h3>Changes from RC1 to Final<a class="headerlink" href="#changes-from-rc1-to-final" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">init</span> <span class="pre">--development-wt5[-rich-root]</span></code> would fail because of
circular import errors. (John Arbash Meinel, #328135)</li>
<li>Expanded the help for log and added a new help topic called
<code class="docutils literal notranslate"><span class="pre">log-formats</span></code>.  (Ian Clatworthy)</li>
</ul>
</div>
<div class="section" id="compatibility-breaks">
<h3>Compatibility Breaks<a class="headerlink" href="#compatibility-breaks" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>By default, <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">status</span></code> after a merge now shows just the pending
merge tip revisions. This improves the signal-to-noise ratio after
merging from trunk and completes much faster. To see all merged
revisions, use the new <code class="docutils literal notranslate"><span class="pre">-v</span></code> flag.  (Ian Clatworthy)</li>
<li><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">log</span> <span class="pre">--line</span></code> now shows any tags after the date and before
the commit message. If you have scripts which parse the output
from this command, you may need to adjust them accordingly.
(Ian Clatworthy)</li>
<li><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">log</span> <span class="pre">--short</span></code> now shows any additional revision properties
after the date and before the commit message.  Scripts that parse
output of the log command in this situation may need to adjust.
(Neil Martinsen-Burrell)</li>
<li>The experimental formats <code class="docutils literal notranslate"><span class="pre">1.12-preview</span></code> and <code class="docutils literal notranslate"><span class="pre">1.12-preview-rich-root</span></code>
have been renamed <code class="docutils literal notranslate"><span class="pre">development-wt5</span></code> and <code class="docutils literal notranslate"><span class="pre">development-wt5-rich-root</span></code>
respectively, given they are not ready for release in 1.12.
(Ian Clatworthy)</li>
<li><code class="docutils literal notranslate"><span class="pre">read_bundle_from_url</span></code> has been deprecated. (Vincent Ladeuil)</li>
</ul>
</div>
<div class="section" id="new-features">
<h3>New Features<a class="headerlink" href="#new-features" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Add support for filtering <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">missing</span></code> on revisions.  Remote revisions
can be filtered using <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">missing</span> <span class="pre">-r</span> <span class="pre">-20..-10</span></code> and local revisions can
be filtered using <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">missing</span> <span class="pre">--my-revision</span> <span class="pre">-20..-10</span></code>.
(Marius Kruger)</li>
<li><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">log</span> <span class="pre">-p</span></code> displays the patch diff for each revision.
When logging a file, the diff only includes changes to that file.
(Ian Clatworthy, #202331, #227335)</li>
<li><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">log</span></code> supports a new option called <code class="docutils literal notranslate"><span class="pre">-n</span> <span class="pre">N</span></code> or <code class="docutils literal notranslate"><span class="pre">--level</span> <span class="pre">N</span></code>.
A value of 0 (zero) means “show all nested merge revisions” while
a value of 1 (one) means “show just the top level”. Values above
1 can be used to see a limited amount of nesting. That can be
useful for seeing the level or two below PQM submits for example.
To force the <code class="docutils literal notranslate"><span class="pre">--short</span></code> and <code class="docutils literal notranslate"><span class="pre">--line</span></code> formats to display all nested
merge revisions just like <code class="docutils literal notranslate"><span class="pre">--long</span></code> does by default, use a command
like <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">log</span> <span class="pre">--short</span> <span class="pre">-n0</span></code>. To display just the mainline using
<code class="docutils literal notranslate"><span class="pre">--long</span></code> format, <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">log</span> <span class="pre">--long</span> <span class="pre">-n1</span></code>.
(Ian Clatworthy)</li>
</ul>
</div>
<div class="section" id="improvements">
<h3>Improvements<a class="headerlink" href="#improvements" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">add</span></code> more clearly communicates success vs failure.
(Daniel Watkins)</li>
<li><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">init</span></code> will now print a little less verbose output.
(Marius Kruger)</li>
<li><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">log</span></code> is now much faster in many use cases, particularly
at incrementally displaying results and filtering by a
revision range. (Ian Clatworthy)</li>
<li><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">log</span> <span class="pre">--short</span></code> and <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">log</span> <span class="pre">--line</span></code> now show tags, if any,
for each revision. The tags are shown comma-separated inside
<code class="docutils literal notranslate"><span class="pre">{}</span></code>. For short format, the tags appear at the end of line
before the optional <code class="docutils literal notranslate"><span class="pre">[merge]</span></code> indicator. For line format,
the tags appear after the date. (Ian Clatworthy)</li>
<li>Progress bars now show the rate of activity for some SFTP
operations, and they are drawn different.  (Martin Pool, #172741)</li>
<li>Progress bars now show the rate of activity for urllib and pycurl based
HTTP client implementations. The operations are tracked at the socket
level for better precision.
(Vincent Ladeuil)</li>
<li>Rule-based preferences can now accept multiple patterns for a set of
rules.  (Marius Kruger)</li>
<li>The <code class="docutils literal notranslate"><span class="pre">ancestor:</span></code> revision spec will now default to referring to the
parent of the branch if no other location is given.
(Daniel Watkins, #198417)</li>
<li>The debugger started as a result of setting <code class="docutils literal notranslate"><span class="pre">$BZR_PDB</span></code> works
around a bug in <code class="docutils literal notranslate"><span class="pre">pdb</span></code>, <a class="reference external" href="http://bugs.python.org/issue4150">http://bugs.python.org/issue4150</a>.  The bug
can cause truncated tracebacks in Python versions before 2.6.
(Andrew Bennetts)</li>
<li>VirtualVersionedFiles now implements
<code class="docutils literal notranslate"><span class="pre">iter_lines_added_or_present_in_keys</span></code>. This allows the creation of
new branches based on stacked bzr-svn branches. (#311997)</li>
</ul>
</div>
<div class="section" id="bug-fixes">
<h3>Bug Fixes<a class="headerlink" href="#bug-fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">annotate</span> <span class="pre">--show-ids</span></code> doesn’t give a backtrace on empty files
anymore.
(Anne Mohsen, Vincent Ladeuil, #314525)</li>
<li><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">log</span> <span class="pre">FILE</span></code> now correctly shows mainline revisions merging
a change to FILE when the <code class="docutils literal notranslate"><span class="pre">--short</span></code> and <code class="docutils literal notranslate"><span class="pre">--line</span></code> log formats
are used. (Ian Clatworthy, #317417)</li>
<li><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">log</span> <span class="pre">-rX..Y</span> <span class="pre">FILE</span></code> now shows the history of FILE provided
it existed in Y or X, even if the file has since been deleted or
renamed. If no range is given, the current/basis tree and
initial tree are searched in that order. More generally, log
now interprets filenames in their historical context.
(Ian Clatworthy, #175520)</li>
<li><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">status</span></code> now reports nonexistent files and continues, then
errors (with code 3) at the end.  (Karl Fogel, #306394)</li>
<li>Don’t require the present compression base in knits to be the same
when adding records in knits. (Jelmer Vernooij, #307394)</li>
<li>Fix a problem with CIFS client/server lag on Windows colliding with
an invariant-per-process algorithm for generating AtomicFile names
(Adrian Wilkins, #304023)</li>
<li>Many socket operations now handle EINTR by retrying the operation.
Previously EINTR was treated as an unrecoverable failure.  There is
a new <code class="docutils literal notranslate"><span class="pre">until_no_eintr</span></code> helper function in <code class="docutils literal notranslate"><span class="pre">bzrlib.osutils</span></code>.
(Andrew Bennetts)</li>
<li>Support symlinks with non-ascii characters in the symlink filename.
(Jelmer Vernooij, #319323)</li>
<li>There was a bug in how we handled resolving when a file is deleted
in one branch, and modified in the other. If there was a criss-cross
merge, we would cause the deletion to conflict a second time.
(Vincent Ladeuil, John Arbash Meinel)</li>
<li>There was another bug in how we chose the correct intermediate LCA in
criss-cross merges leading to several kind of changes be incorrectly
handled.
(John Arbash Meinel, Vincent Ladeuil)</li>
<li>Unshelve now handles deleted paths without crashing. (Robert Collins)</li>
</ul>
</div>
<div class="section" id="documentation">
<h3>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Improved plugin developer documentation.  (Martin Pool)</li>
</ul>
</div>
<div class="section" id="api-changes">
<h3>API Changes<a class="headerlink" href="#api-changes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">ProgressBarStack</span></code> is deprecated; instead use
<code class="docutils literal notranslate"><span class="pre">ui_factory.nested_progress_bar</span></code> to create new progress bars.
(Martin Pool)</li>
<li>ForeignVcsMapping() now requires a ForeignVcs object as first
argument. (Jelmer Vernooij)</li>
<li>ForeignVcsMapping.show_foreign_revid() has been moved to
ForeignVcs. (Jelmer Vernooij)</li>
<li><code class="docutils literal notranslate"><span class="pre">read_bundle_from_url</span></code> is deprecated in favor of
<code class="docutils literal notranslate"><span class="pre">read_mergeable_from_url</span></code>.  (Vincent Ladeuil)</li>
<li>Revision specifiers are now registered in
<code class="docutils literal notranslate"><span class="pre">bzrlib.revisionspec.revspec_registry</span></code>, and the old list of
revisionspec classes (<code class="docutils literal notranslate"><span class="pre">bzrlib.revisionspec.SPEC_TYPES</span></code>) has been
deprecated. (Jelmer Vernooij, #321183)</li>
<li>The progress and UI classes have changed; the main APIs remain the
same but code that provides a new UI or progress bar class may
need to be updated.  (Martin Pool)</li>
</ul>
</div>
<div class="section" id="internals">
<h3>Internals<a class="headerlink" href="#internals" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Default User Interface (UI) is CLIUIFactory when bzr runs in a dumb
terminal. It is sometimes desirable do override this default by forcing
bzr to use TextUIFactory. This can be achieved by setting the
BZR_USE_TEXT_UI environment variable (emacs shells, as opposed to
compile buffers, are such an example).
(Vincent Ladeuil)</li>
<li>New API <code class="docutils literal notranslate"><span class="pre">Branch.iter_merge_sorted_revisions()</span></code> that iterates over
<code class="docutils literal notranslate"><span class="pre">(revision_id,</span> <span class="pre">depth,</span> <span class="pre">revno,</span> <span class="pre">end_of_merge)</span></code> tuples.
(Ian Clatworthy)</li>
<li>New <code class="docutils literal notranslate"><span class="pre">Branch.dotted_revno_to_revision_id()</span></code> and
<code class="docutils literal notranslate"><span class="pre">Branch.revision_id_to_dotted_revno()</span></code> APIs that pick the most
efficient way of doing the mapping.
(Ian Clatworthy)</li>
<li>Refactor cmd_serve so that it’s a little easier to build commands that
extend it, and perhaps even a bit easier to read.  (Jonathan Lange)</li>
<li><code class="docutils literal notranslate"><span class="pre">TreeDelta.show()</span></code> now accepts a <code class="docutils literal notranslate"><span class="pre">filter</span></code> parameter allowing log
formatters to retrict the output.
(Vincent Ladeuil)</li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table of Contents</h3>
          <ul>
<li class="toctree-l1"><a class="reference internal" href="../whats-new/whats-new-in-3.0.html">What’s New in Breezy 3.0?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/index.html">Breezy User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick-reference/index.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Breezy Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../upgrade-guide/index.html">Breezy Upgrade Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-reference/index.html">Breezy User Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/index.html">Breezy System Administrator’s Guide</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="../search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
            </form>
          </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="../_sources/release-notes/bzr-1.12.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright 2009-2011 Canonical Ltd, 2017-2018 Breezy Developers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.4.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>